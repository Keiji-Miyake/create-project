# 開発プロセスの基本原則

## 事前準備と改善プロセス

### 1. 事前調査の徹底

#### 参考資料の確認
- 公式ドキュメント（日本語版含む）を完全に確認
- 類似実装の調査
- 既存のベストプラクティスの把握

#### 既存コードの分析
- ファイルの命名規則の確認
- ディレクトリ構成の理解
- 実装パターンの把握

#### 規約とルールの確認
- プロジェクト固有の規約
- コーディング規約
- 操作の制約事項

### 2. モード管理 [P1]

#### モード切り替えの基準
- タスクの性質に応じた適切なモードの選択
- モード変更時の引き継ぎ情報の整理
- 作業コンテキストの維持

#### コードモード固有の要件
- TypeScriptの型安全性を最優先
- テストの作成を必須とする
- パフォーマンスとセキュリティの考慮
- ドキュメントの更新を忘れない

#### デバッグモード固有の要件
- エラーの再現手順を文書化
- 根本原因の分析を徹底
- 修正の影響範囲を慎重に評価
- テストケースの追加を忘れない

### 3. 効率的な実装プロセス

#### 変更の計画
- 完全な変更内容の事前確定
- 影響範囲の特定
- 依存関係の確認

#### ファイル操作のベストプラクティス
- **完全なファイル内容を維持**
- 部分的な更新や省略を**絶対に**避ける。`[...]` や `[省略]` のような**いかなる形式の省略記号も使用しない**。
- `write_to_file` ツール使用時は、**ファイルの最初から最後まで、変更の有無に関わらず全ての行を**含めて提供する。
- 長大なファイルを扱う場合は、ユーザー様に確認の上、論理的な単位でファイルを分割し、**各分割ファイルの内容も完全に記述**する。
- 一貫性のある命名規則の適用

### 4. 品質管理プロセス

#### コードレビュー
- レビュー前の自己チェック
- レビュー観点の明確化
- フィードバックの適切な反映
- 知見の共有と記録

#### テスト戦略
- 単体テストの充実
- 結合テストの実施
- E2Eテストの整備
- パフォーマンステストの実行

#### 継続的改善
- 定期的な振り返り
- ベストプラクティスの更新
- 技術的負債の管理
- チーム内での知識共有

### 5. ドキュメント管理

#### 文書化の原則
- 明確で簡潔な記述
- 最新状態の維持
- アクセシビリティの確保
- バージョン管理の徹底

#### APIドキュメント
- インターフェース定義の明確化
- 使用例の提示
- エラーケースの説明
- 型定義の完全な記述

#### プロジェクト文書
- セットアップ手順の整備
- アーキテクチャ概要の説明
- 運用手順の文書化
- トラブルシューティングガイドの提供

### 6. セキュリティ対策

#### 脆弱性対策
- 定期的な依存関係の更新
- セキュリティスキャンの実施
- アクセス制御の適切な実装
- 暗号化の適切な利用

#### コード品質
- 静的解析ツールの活用
- コードレビューでのセキュリティ確認
- セキュアコーディングガイドラインの遵守
- インジェクション攻撃への対策

#### 運用セキュリティ
- 環境変数の適切な管理
- ログ出力の適切な制御
- バックアップ戦略の策定
- インシデント対応手順の整備

---

## AI活用ルールの強化

### 1. AI活用の段階的プロセス明示
- AI活用は「要件定義→プロンプト設計→生成→人間レビュー→検証→採用判断」の段階を必ず踏むこと。
- すべての段階で記録を残し、再現性を担保すること。

### 2. プロンプト設計の標準例提示
- プロンプト設計時は「目的」「制約」「期待出力例」を明記し、標準テンプレートを活用すること。
  - 例：  
    - 目的：TypeScriptの型安全なAPIクライアント生成  
    - 制約：外部依存なし、async/await必須  
    - 出力例：`getUserById(id: string): Promise<User>` のような関数

### 3. AIレビューの責任分担明確化
- AI生成物のレビュー責任者を明示し、最終的な採否判断は必ず人間が行うこと。
- 承認フローを明文化し、レビュー記録を残すこと。

### 4. エラー対応の運用指針明確化
- AI生成物のエラー発生時は「原因分析→再生成→人間による再レビュー→記録残存」の運用フローを徹底する。
- 責任分担を明示し、エラー対応履歴を記録すること。

### 5. AI活用時の記録・ログ管理強化
- AI活用の各段階（プロンプト、生成物、レビュー、修正、採否）を必ず記録・保存し、再現性を担保する。
- 実装ログやメモリーバンク管理にもAI活用記録を必須化する。

### 6. AI活用の品質評価基準の明確化
- AI生成物の品質評価基準（型安全性、パフォーマンス、セキュリティ、可読性等）を明示し、レビュー時にチェックリストを用いること。

### 7. AI活用ルールの定期的な見直し体制
- AI活用ルールは四半期ごとに見直し、改善点・課題・最新事例を反映する。
- 継続的改善やルール強制の記述に「AI活用ルールの定期レビュー」を明記し、責任者・手順も補足する。

---
